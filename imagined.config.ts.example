import type { ImaginedConfig } from "imagined";

/**
 * Example configuration file for imagined
 * 
 * Copy this file to `imagined.config.ts` in your project root
 * and customize the settings as needed.
 * 
 * Configuration priority (highest to lowest):
 * 1. Environment variables (RECRAFT_API_KEY, IMAGINED_OUTPUT_DIR)
 * 2. CLI arguments (override config file)
 * 3. This config file
 * 4. package.json "imagined" field
 * 5. Default values
 * 
 * IMPORTANT: For the component to use publicPath and imageFormat in the browser,
 * you need to configure them in your app initialization code. For example, in your main.tsx:
 * 
 * ```tsx
 * import { configureImageSettings } from "imagined";
 * 
 * // Configure with the same values from your config file
 * configureImageSettings({
 *   publicPath: "/generated-images",  // Match your config's publicPath
 *   imageFormat: "jpg",                // Match your config's imageFormat
 * });
 * ```
 * 
 * Alternatively, you can export these values from your config file and import them:
 * 
 * ```tsx
 * // In imagined.config.ts, also export:
 * export const publicPath = "/generated-images";
 * export const imageFormat = "jpg" as const;
 * 
 * // Then in main.tsx:
 * import { configureImageSettings } from "imagined";
 * import { publicPath, imageFormat } from "./imagined.config.ts";
 * configureImageSettings({ publicPath, imageFormat });
 * ```
 */
const config: ImaginedConfig = {
  // API Configuration
  // apiKey: process.env.RECRAFT_API_KEY, // Usually set via .env file

  // Source Configuration
  // Directory to scan for Imagined components (defaults to current directory if not set)
  // If not specified here, you can pass it via CLI: imagined generate ./src
  sourceDir: "./src", // Optional: directory to scan for Imagined components

  // Output Configuration
  outputDir: "./public/generated-images", // Where generated images will be saved on disk
  imageFormat: "jpg", // "jpg" | "png" | "webp"
  
  // Public Path Configuration
  // The URL path used by the component to reference images
  // This can differ from outputDir (e.g., outputDir: "./public/generated-images", publicPath: "/generated-images")
  // If not set, will be inferred from outputDir
  publicPath: "/generated-images", // URL path (e.g., "/generated-images" or "/assets/images")

  // Global Style Configuration
  // This style will be used as the default for all images unless overridden
  defaultStyle: {
    style: "digital_illustration",
    substyle: "hand_drawn",
  },

  // Model Configuration
  model: "recraftv3",
};

export default config;

